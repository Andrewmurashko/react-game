(this["webpackJsonpreact-game"]=this["webpackJsonpreact-game"]||[]).push([[0],{66:function(e,t,c){},79:function(e,t,c){"use strict";c.r(t);var a=c(0),o=c.n(a),s=c(27),n=c.n(s),r=(c(66),c(5)),i=c(7),l=c(10),u=c(31),m=c.p+"static/media/click.b94c632a.mp3",j=c(14),d=c(1);var b=function(e){var t=e.history,c=Object(u.a)(m),s=Object(r.a)(c,1)[0],n=o.a.useState(!1),i=Object(r.a)(n,2),b=i[0],O=i[1],p=0;Object(j.a)("ArrowDown",(function(e){console.log("ArrowDown action ".concat(p)),p>=5&&(document.querySelector(".menu__".concat(p-1)).classList.remove("selected"),p=0),document.querySelector(".menu__".concat(p)).classList.add("selected"),p>0&&document.querySelector(".menu__".concat(p-1)).classList.remove("selected"),p+=1})),Object(j.a)("ArrowUp",(function(e){console.log("ArrowUp action"),(p-=1)<0&&(document.querySelector(".menu__".concat(p+1)).classList.remove("selected"),p=f.length-1),document.querySelector(".menu__".concat(p)).classList.add("selected"),f.length-1>p>0&&document.querySelector(".menu__".concat(p+1)).classList.remove("selected")})),Object(j.a)("Enter",(function(){console.log("Some action"),document.querySelector(".selected")&&(s(),f.some((function(e,c){if(e.name===document.querySelector(".selected").innerHTML)return O(!0),setTimeout((function(){return t.push("".concat(e.url))}),1e3);console.log("fuck")})))}));var f=[{name:"Continue",url:"/Game",componentName:"Game"},{name:"New game",url:"/Game",componentName:"Game"},{name:"Settings",url:"/Settings",componentName:"Settings"},{name:"Tutorial",url:"/Tutorial",componentName:"Tutorial"},{name:"Records",url:"/Records",componentName:"Records"}],h=Object(a.useRef)();Object(a.useEffect)((function(){b||l.a.from([h.current],{y:"800px",duration:1}),b&&(l.a.to([h.current],{y:"800px",duration:1}),console.log(b))}),[b]);var g=function(e){"New game"===e.name?(s(),localStorage.removeItem("savedGame"),localStorage.removeItem("gameStatAllSteps"),localStorage.removeItem("gameStatCurrStep"),O(!0),setTimeout((function(){t.push("".concat(e.url))}),1e3)):(O(!0),s(),setTimeout((function(){t.push("".concat(e.url))}),1e3))};return Object(d.jsx)("div",{className:"menu",ref:h,children:f.map((function(e,t){return Object(d.jsx)("div",{className:"menu__item menu__".concat(t," menu__").concat(e.name),onClick:function(){return g(e)},children:e.name},"".concat(e.name,"_").concat(t))}))})},O=c(35),p=c(45),f=c(88),h=new p,g=new f.a({board:h.board()});var v=[""],x=JSON.parse(localStorage.getItem("gameStatCurrStep"))||[],_=JSON.parse(localStorage.getItem("gameStatAllSteps"))||0;function S(e,t,c){v={from:e,to:t},c&&(v.promotion=c),h.move(v)&&(N(),x.push({from:e,to:t}),_+=1,localStorage.setItem("gameStatAllSteps",JSON.stringify(_)),localStorage.setItem("gameStatCurrStep",JSON.stringify(x)))}function N(e){var t=h.game_over(),c={board:h.board(),pendingPromotion:e,isGameOver:t,turn:h.turn(),result:t?y():null};localStorage.setItem("savedGame",h.fen()),g.next(c)}function y(){if(h.in_checkmate()){var e="w"===h.turn()?"BLACK":"WHITE";return"WINNER - ".concat(e)}if(h.in_draw()){var t="50 - MOVES - RULE";return h.in_stalemate()?t="STALEMATE":h.in_threefold_repetition()?t="REPETITION":h.insufficient_material()&&(t="INSUFFICIENT MATERIAL"),"DRAW - ".concat(t)}return"UNKNOWN REASON"}var k=g;var E=function(e){var t=e.children,c=e.black?"square-black":"square-white";return Object(d.jsx)("div",{className:"".concat(c," board-square"),children:t})},T=c(90),R=c(86);var A=function(e){var t=e.piece,c=t.type,a=t.color,o=e.position,s=Object(T.a)({item:{type:"piece",id:"".concat(o,"_").concat(c,"_").concat(a)},collect:function(e){return{isDragging:!!e.isDragging()}}}),n=Object(r.a)(s,3),i=n[0].isDragging,l=n[1],u=n[2],m="./assets/".concat(c,"_").concat(a,".png");return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(R.a,{connect:u,src:m}),Object(d.jsx)("div",{className:"piece-container",ref:l,style:{opacity:i?0:1},children:Object(d.jsx)("img",{src:m,alt:"".concat(c,"_").concat(a),className:"piece"})})]})},I=c(89),w=["r","n","b","q"];var C=function(e){var t=e.promotion,c=t.from,a=t.to,o=t.color;return Object(d.jsx)("div",{className:"board",children:w.map((function(e,t){return Object(d.jsx)("div",{className:"promote-square",children:Object(d.jsx)(E,{black:t%3===0,children:Object(d.jsx)("div",{className:"piece-container",onClick:function(){return S(c,a,e)},children:Object(d.jsx)("img",{src:"./assets/".concat(e,"_").concat(o,".png"),alt:"",className:"piece cursor-pointer"})})})},t)}))})};var G=function(e){var t=e.piece,c=e.black,a=e.position,s=o.a.useState(null),n=Object(r.a)(s,2),i=n[0],l=n[1],u=Object(I.a)({accept:"piece",drop:function(e){var t=e.id.split("_");!function(e,t){var c=h.moves({verbose:!0}).filter((function(e){return e.promotion}));c.some((function(c){return"".concat(c.from,":").concat(c.to)==="".concat(e,":").concat(t)}))&&N({from:e,to:t,color:c[0].color}),g.getValue().pendingPromotion||S(e,t)}(Object(r.a)(t,1)[0],a)}}),m=Object(r.a)(u,2)[1];return o.a.useEffect((function(){var e=k.subscribe((function(e){var t=e.pendingPromotion;return t&&t.to===a?l(t):l(null)}));return function(){return e.unsubscribe()}}),[a]),Object(d.jsx)("div",{className:"board-square",ref:m,children:Object(d.jsx)(E,{black:c,children:i?Object(d.jsx)(C,{promotion:i}):t?Object(d.jsx)(A,{piece:t,position:a}):null})})},M=c.p+"static/media/chess.db2f5ba9.mp3";var q=function(e){var t=e.board,c=e.turn,a=(e.boxRef,e.soundsVolume),s=o.a.useState([]),n=Object(r.a)(s,2),i=n[0],l=n[1],m=Object(u.a)(M,{volume:a/100}),j=Object(r.a)(m,1)[0];function b(e){return{x:"w"===c?e%8:Math.abs(e%8-7),y:"w"===c?Math.abs(Math.floor(e/8)-7):Math.floor(e/8)}}function O(e){var t=b(e);return(t.x+t.y)%2===1}function p(e){var t=b(e),c=t.x,a=t.y;return"".concat(["a","b","c","d","e","f","g","h"][c]).concat(a+1)}return o.a.useEffect((function(){l("w"===c?t.flat():t.flat().reverse()),j(),console.log(a)}),[c]),Object(d.jsx)("div",{className:"board",children:i.map((function(e,t){return Object(d.jsx)("div",{className:"square",children:Object(d.jsx)(G,{piece:e,black:O(t),position:p(t)})},t)}))})};var D=function(e){var t=e.turn,c=o.a.useState(0),s=Object(r.a)(c,2),n=s[0],i=s[1],u=o.a.useState([]),m=Object(r.a)(u,2),j=m[0],b=m[1],O=Object(a.useRef)();return Object(a.useEffect)((function(){l.a.from([O.current],{x:"-800px",duration:1}),console.log("start")}),[]),Object(a.useEffect)((function(){t&&setTimeout((function(){i(JSON.parse(localStorage.getItem("gameStatAllSteps"))),b(JSON.parse(localStorage.getItem("gameStatCurrStep"))),console.log(n),console.log(j),console.log()}),0)}),[t]),Object(d.jsxs)("div",{className:"game-statistics",ref:O,children:[Object(d.jsxs)("div",{className:"game-statistics__steps",children:[Object(d.jsx)("h4",{className:"game-statistics__title",children:"MOVES:"}),n]}),Object(d.jsxs)("div",{className:"game-statistics__game-status",children:[Object(d.jsx)("h4",{children:"GAME STATUS:"}),j&&"".concat(j.map((function(e){return"".concat(e.from,"-").concat(e.to)})))]})]})};var L=function(e){var t=e.history;return Object(d.jsx)("h3",{onClick:function(){t.push("/")},className:"button__get-back",children:"Get back"})};var J=function(){return Object(d.jsxs)("div",{class:"footer__developers",children:[Object(d.jsxs)("div",{class:"developer developer__1st",children:["Andrew Murashko",Object(d.jsxs)("div",{class:"developer__links",children:[Object(d.jsx)("a",{class:"ico GitHub-ico developer__1st_GitHub",href:"https://github.com/Andrewmurashko",children:Object(d.jsx)("img",{src:"./assets/Github.svg",alt:"G",className:"piece"})}),Object(d.jsx)("a",{class:"ico telegram-ico developer__1st_telegram",href:"https://t.me/AndrewMurashko",children:Object(d.jsx)("img",{src:"./assets/Telegram.svg",alt:"T",className:"piece"})}),Object(d.jsx)("a",{class:"ico email-ico developer__1st_email",href:"mailto: murashko.kbtem@gmail.com",children:Object(d.jsx)("img",{src:"./assets/email.svg",alt:"E",className:"piece"})})]})]}),Object(d.jsxs)("div",{class:"footer__school-logo-container",children:[Object(d.jsx)("a",{class:"footer__school-logo",href:"https://rs.school/js/",children:Object(d.jsx)("img",{src:"./assets/logo-rsschool.svg",alt:"E",className:"piece"})}),"React 2021-Q1"]})]})},W=c(60),U=(c(73),c.p+"static/media/Vechnye_Hity-Louis_Armstrong_-_Wonderful_World_(MUSIC-LORD.COM).ab412a65.mp3");var V=function(e){var t=e.history,c=o.a.useState([]),s=Object(r.a)(c,2),n=s[0],i=s[1],u=o.a.useState(),m=Object(r.a)(u,2),b=m[0],p=m[1],f=o.a.useState(),g=Object(r.a)(f,2),v=g[0],S=g[1],y=o.a.useState(),E=Object(r.a)(y,2),T=E[0],R=E[1],A=o.a.useState([]),I=Object(r.a)(A,2),w=I[0],C=I[1],G=o.a.useState(1),M=Object(r.a)(G,2),J=M[0],V=M[1],P=Object(a.useRef)(),B=Object(a.useRef)(),H=Object(a.useRef)(),F=Object(a.useRef)();return Object(a.useEffect)((function(){b&&(l.a.from([H.current],{x:"-800px",duration:1}),l.a.from([F.current],{x:"800px",duration:1})),console.log("gameover")}),[v]),Object(a.useEffect)((function(){l.a.from([P.current],{y:"-800px",duration:1}),l.a.from([B.current],{y:"800px",duration:1}),console.log("start")}),[]),Object(j.a)(["Escape","Backspace"],(function(){console.log("Some action"),t.push("/")})),o.a.useEffect((function(){localStorage.getItem("savedGame")?(h.load(localStorage.getItem("savedGame")),N()):(h.reset(),N(),_=0,x.splice(0,x.length));var e=k.subscribe((function(e){i(e.board),p(e.isGameOver),S(e.result),R(e.turn),localStorage.getItem("Records")&&(C(JSON.parse(localStorage.getItem("Records"))),console.log(w))}));return function(){return e.unsubscribe()}}),[v,b]),o.a.useEffect((function(){v&&(console.log(_),C([].concat(Object(O.a)(w),[{steps:_,stepsArr:x,result:v}])),localStorage.setItem("Records",JSON.stringify([].concat(Object(O.a)(w),[{steps:_,stepsArr:x,result:v}]))),console.log([].concat(Object(O.a)(w),[{steps:_,stepsArr:x,result:v}])))}),[v]),Object(d.jsx)("div",{className:"Game",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"settings",ref:P,children:[Object(d.jsx)(L,{history:t}),Object(d.jsxs)("div",{className:"settings__chess-sound",children:[Object(d.jsx)("h3",{className:"settings__chess-sound_title",children:"Chess sounds"}),Object(d.jsx)("input",{onChange:function(e){V(e.target.value),console.log(e.target.value)},id:"soundsRange",type:"range",min:"0",max:"100"})]}),Object(d.jsx)("div",{className:"player",children:Object(d.jsx)(W.a,{autoPlay:!0,src:U,onPlay:function(e){return console.log("onPlay")}})})]}),Object(d.jsx)(D,{steps:_,stepsArr:x,turn:T}),console.log(_),Object(d.jsxs)("div",{className:"game-container",ref:B,children:[b&&Object(d.jsxs)("h2",{className:"vertical-text",ref:H,children:[Object(d.jsx)("button",{onClick:function(){l.a.to([H.current],{x:"-800px",duration:1}),l.a.to([F.current],{x:"800px",duration:1}),setTimeout((function(){return h.reset(),N(),_=0,void x.splice(0,x.length)}),1e3)},children:Object(d.jsx)("span",{className:"vertical-text",children:"NEW GAME"})}),"GAME OVER"]}),Object(d.jsx)("div",{className:"board-container",children:Object(d.jsx)(q,{board:n,turn:T,soundsVolume:J})}),v&&Object(d.jsx)("p",{className:"vertical-text",ref:F,children:v})]})]})})};var P=Object(i.e)((function(e){var t=e.history,c=e.setIsDarkTheme,a=e.isDarkTheme,s=o.a.useState(!0),n=Object(r.a)(s,2),i=n[0],l=n[1];Object(j.a)(["Escape","Backspace"],(function(){console.log("Some action"),t.push("/")}));var u=function(){console.log("checked"),c(!a),console.log(c)},m=function(){l(!i)};return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:["Theme:",Object(d.jsx)("input",{type:"radio",onChange:u,checked:a?"checked":"",onClick:u,volue:"on"}),"Dark",Object(d.jsx)("input",{type:"radio",onChange:u,checked:a?"":"checked",onClick:u,volue:"off"}),"Blue"]}),Object(d.jsxs)("div",{children:["50 MOVES RULE:",Object(d.jsx)("input",{type:"radio",onChange:m,checked:i?"checked":"",onClick:m,volue:"on"}),"on",Object(d.jsx)("input",{type:"radio",onChange:m,checked:i?"":"checked",onClick:m,volue:"off"}),"off"]}),Object(d.jsx)(L,{history:t})]})}));var B=function(e){var t=e.history;return Object(j.a)(["Escape","Backspace"],(function(){console.log("Some action"),t.push("/")})),Object(d.jsxs)("div",{children:["\u0420\u0430\u0441\u0441\u043a\u0430\u0437 \u043e \u0442\u043e\u043c, \u043a\u0430\u043a \u0438\u0433\u0440\u0430\u0442\u044c, \u043f\u0435\u0440\u0435\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u0445\u043e\u0442\u043a\u0435\u0435\u0432 \u0438 \u0442\u0434",Object(d.jsx)(L,{history:t})]})},H=c(38);var F=function(e){var t=e.history,c=o.a.useState(JSON.parse(localStorage.getItem("Records"))||[]),a=Object(r.a)(c,2),s=a[0];return a[1],o.a.useEffect((function(){console.log(s)}),[]),Object(j.a)(["Escape","Backspace"],(function(){console.log("Some action"),t.push("/")})),Object(d.jsxs)("div",{className:"records",children:[Object(d.jsx)("h2",{className:"records__title",children:"Records"}),Object(d.jsxs)("div",{className:"records__items",children:[console.log(s),s.length&&s.sort((function(e,t){return e.steps-t.steps})).map((function(e,t){return Object(d.jsxs)("div",{className:"records__item",children:[Object(d.jsx)("h4",{children:"Moves: ".concat(e.steps)}),Object(d.jsx)("h4",{children:"Transcript: ".concat(e.stepsArr.map((function(e){return"".concat(e.from,"-").concat(e.to)})))}),Object(d.jsx)("h4",{children:"".concat(e.result)})]},t)}))]}),Object(d.jsx)(L,{history:t})]})};var K=function(){var e=o.a.useState(!0),t=Object(r.a)(e,2),c=t[0],a=t[1];return console.log(a),o.a.useEffect((function(){}),[c]),Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:c?"theme_dark wrapper":"theme_colored wrapper",children:[Object(d.jsx)(i.a,{exact:!0,path:"/",component:b}),Object(d.jsx)(i.a,{exact:!0,path:"/Game",component:V}),Object(d.jsx)(i.a,{exact:!0,path:"/Settings",component:function(){return Object(d.jsx)(P,{setIsDarkTheme:a,isDarkTheme:c})}}),Object(d.jsx)(i.a,{exact:!0,path:"/Tutorial",component:B}),Object(d.jsx)(i.a,{exact:!0,path:"/Records",component:F}),Object(d.jsx)("div",{className:"footer__wrapper",children:Object(d.jsx)(J,{})})]})})},X=c(18),Q=c(25),Y={isGame:!1,currentWord:{},wrongWords:[],lives:5},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;return"SET_CURRENT_WORD"===t.type?Object(Q.a)(Object(Q.a)({},e),{},{currentWord:t.payload}):"SET_CATEGORY"===t.type?Object(Q.a)(Object(Q.a)({},e),{},{category:t.payload}):e},Z=Object(X.c)({stateGame:z}),$=c(58),ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.d,te=Object(X.e)(Z,ee(Object(X.a)($.a))),ce=c(29),ae=c(87),oe=c(59);n.a.render(Object(d.jsx)(o.a.StrictMode,{children:Object(d.jsx)(ce.a,{children:Object(d.jsx)(H.a,{store:te,children:Object(d.jsx)(ae.a,{backend:oe.a,children:Object(d.jsx)(K,{})})})})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.331627c1.chunk.js.map